<!doctype html>
<html lang="en-US">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <!-- Font-awesome CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css" integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk" crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <!-- CSS stylesheet -->
    <link rel="stylesheet" href="./index.css">
    <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js'></script>
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script> -->

    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"> </script>  
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"> </script>  

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    <script type="text/javascript" src="./jquery.amsify.suggestags.js"></script>
    <script>
      let who_selected = [];
      let related_memories_images = [];
    </script>
    <script src="js/artyom/artyom.window.min.js"></script>
    <!-- <script>
      // var query_textbox = $("#query__inputField");
      // var chat_textbox = $("#chatio__inputField")

      // const chat_artyom = new Artyom();
      // // This function activates artyom and will listen all that you say forever (requires https conection, otherwise a dialog will request if you allow the use of the microphone)
      // function chat_startContinuousArtyom(){
      //     chat_artyom.fatality();// use this to stop any of

      //     setTimeout(function(){// if you use artyom.fatality , wait 250 ms to initialize again.
      //         chat_artyom.initialize({
      //             lang:"en-GB",// A lot of languages are supported. Read the docs !
      //             continuous:true,// Artyom will listen forever
      //             listen:true, // Start recognizing
      //             debug:true, // Show everything in the console
      //             speed:1 // talk normally
      //         }).then(function(){
      //             console.log("Ready to work !");
      //         });
      //     },250);
      // }
      // chat_startContinuousArtyom();
      // var Chat_UserDictation = chat_artyom.newDictation({
      //     continuous:true, // Enable continuous if HTTPS connection
      //     onResult:function(chat_text){
      //         // Do something with the text
      //         console.log(chat_text);
      //         chat_textbox.val(chat_text);
      //     },
      //     onStart:function(){
      //         console.log("chat started");
      //     },
      //     onEnd:function(){
      //         alert("Dictation stopped by the user");
      //     }
      // });

      // Chat_UserDictation.start();

      // // Stop whenever you want
      // // Chat_UserDictation.stop();

      // chat_artyom.redirectRecognizedTextOutput(function(chat_recognized,chat_isFinal){
      //     if(chat_isFinal){
      //       chat_textbox.val(chat_text);
      //     }else{
      //       chat_textbox.val(chat_text);
      //     }
      // });

      // const query_artyom = new Artyom();
      // // This function activates artyom and will listen all that you say forever (requires https conection, otherwise a dialog will request if you allow the use of the microphone)
      // function query_startContinuousArtyom(){
      //     query_artyom.fatality();// use this to stop any of

      //     setTimeout(function(){// if you use artyom.fatality , wait 250 ms to initialize again.
      //         query_artyom.initialize({
      //             lang:"en-GB",// A lot of languages are supported. Read the docs !
      //             continuous:true,// Artyom will listen forever
      //             listen:true, // Start recognizing
      //             debug:true, // Show everything in the console
      //             speed:1 // talk normally
      //         }).then(function(){
      //             console.log("Ready to work !");
      //         });
      //     },250);
      // }
      // query_startContinuousArtyom();
      // var Query_UserDictation = query_artyom.newDictation({
      //     continuous:true, // Enable continuous if HTTPS connection
      //     onResult:function(query_text){
      //         // Do something with the text
      //         console.log(query_text);
      //         query_textbox.val(query_text);
      //     },
      //     onStart:function(){
      //       console.log("query started");
      //     },
      //     onEnd:function(){
      //         alert("Dictation stopped by the user");
      //     }
      // });

      // Query_UserDictation.start();

      // // Stop whenever you want
      // // Query_UserDictation.stop();

      // query_artyom.redirectRecognizedTextOutput(function(query_recognized,query_isFinal){
      //     if(query_isFinal){
      //         query_textbox.val(query_recognized);
      //     }else{
      //       query_textbox.val(query_recognized);
      //     }
      // });

      // chat_artyom.redirectRecognizedTextOutput(function(chat_recognized,chat_isFinal){
      //     if(chat_isFinal){
      //       chat_textbox.val(chat_text);
      //     }else{
      //       chat_textbox.val(chat_text);
      //     }
      // });

      // var query_textbox = $("#artyom_test");
      const query_artyom = new Artyom();
      // This function activates artyom and will listen all that you say forever (requires https conection, otherwise a dialog will request if you allow the use of the microphone)
      function query_startContinuousArtyom(){
          query_artyom.fatality();// use this to stop any of

          setTimeout(function(){// if you use artyom.fatality , wait 250 ms to initialize again.
              query_artyom.initialize({
                  lang:"en-GB",// A lot of languages are supported. Read the docs !
                  continuous:true,// Artyom will listen forever
                  listen:true, // Start recognizing
                  debug:true, // Show everything in the console
                  speed:1 // talk normally
              }).then(function(){
                  console.log("Ready to work !");
              });
          },250);
      }
      query_startContinuousArtyom();
      var Query_UserDictation = query_artyom.newDictation({
          continuous:true, // Enable continuous if HTTPS connection
          onResult:function(query_text){
              // Do something with the text
              console.log(query_text);
              document.getElementById("artyom_test").innerHTML = query_text;
          },
          onStart:function(){
            document.getElementById("artyom_test").innerHTML = "start";
          },
          onEnd:function(){
              alert("Dictation stopped by the user");
          }
      });

      Query_UserDictation.start();

      // Stop whenever you want
      // Query_UserDictation.stop();

      // query_artyom.redirectRecognizedTextOutput(function(query_recognized,query_isFinal){
      //     if(query_isFinal){
      //       document.getElementById("artyom_test").innerHTML = "Final recognized text: " + query_recognized;
      //     }else{
      //       document.getElementById("artyom_test").innerHTML = query_recognized;
      //     }
      // });

      var command_listening_sound = new Audio('silence.mp3');
      query_artyom.redirectRecognizedTextOutput(function(text,isFinal){
      var span = document.getElementById('artyom_test');

       if(isFinal){
          span.innerHTML = text;
		  window.command_listening_sound.pause();
		
		   
	      
        } else {
				span.innerHTML = text;
		  
				window.command_listening_sound.currentTime=0;
				window.command_listening_sound.play();
		  
				window.command_listening_sound.addEventListener('timeupdate', timeupdateREAL);
			};
      });
	  
     function timeupdateREAL(){
		 
		if (window.command_listening_sound.currentTime > 3) {
			abortartyom();
		}};
			

	  function abortartyom(){
				console.log("Timeoutreached");
				window.command_listening_sound.removeEventListener('timeupdate', timeupdateREAL);
				artyom.ArtyomWebkitSpeechRecognition.abort();
			};
    </script> -->
    <title>Tobu</title>
  </head>

  <body>
    <div style="width: 567px; margin: 0 auto; position:relative; background-color: #f0f1f3;">

      

      <script type="text/javascript" id="app-interact" src="./index.js" 
      data-sentinelid = "urn:uuid:e0981fe8-fcc1-4ab0-aeab-1e7f0661ea42"
      data-walkername = "init"
      data-token = "29f598213f83a68f05c86f0a829e616b5d96ed48888eeb65a1bc29445bfa925a"
      data-server = "https://tobu.jaseci.org"
      ></script>

    </div>

    <!-- <div id="artyom_test">Startttt</div> -->

    
    <!--CONTENT -->
  
    <!--CONTENT -->  
        <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <!-- <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script type='text/javascript' src='../../assets/js/jquery.1.12.4.min.js'></script>
    <script type='text/javascript' src='../../assets/js/jquery.includeHTML.min.js'></script>-->
    <!-- <script>
        $(document).ready(
          function(){
            $('.navbar').appendHTML('admin-nav.html');
          }
          
        )
    </script> -->

  </body>
</html>